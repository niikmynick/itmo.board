(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[860],{1753:(e,t,o)=>{Promise.resolve().then(o.bind(o,3024))},3024:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>y});var r=o(5155),n=o(2115),i=o(9868),l=o(9602);let s=i.Kq,a=i.bL,d=i.l9,c=n.forwardRef((e,t)=>{let{className:o,sideOffset:n=4,...s}=e;return(0,r.jsx)(i.UC,{ref:t,sideOffset:n,className:(0,l.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...s})});c.displayName=i.UC.displayName;let u=e=>{let{label:t,children:o,side:n,align:i,sideOffset:l,alignOffset:u}=e;return(0,r.jsx)(s,{children:(0,r.jsxs)(a,{delayDuration:100,children:[(0,r.jsx)(d,{asChild:!0,children:o}),(0,r.jsx)(c,{className:"text-white bg-black border-black rounded-3xl",side:n,align:i,sideOffset:l,alignOffset:u,children:(0,r.jsx)("p",{className:"font-semibold capitalize",children:t})})]})})};var f=o(1909);let b=e=>{let{label:t,icon:o,onClick:n,isActive:i,isDisabled:l}=e;return(0,r.jsx)(u,{label:t,side:"right",sideOffset:14,children:(0,r.jsx)(f.$,{disabled:l,onClick:n,size:"icon",variant:i?"boardActive":"board",children:(0,r.jsx)(o,{})})})};var v=o(8037),h=o(5057),m=o(1864),x=o(6261),g=o(6293),p=o(872),w=o(5686);let j=e=>{let{onColorChange:t,currentColor:o,editable:i,deleteSelected:l,moveToFront:s,moveToBack:a,moveForward:d,moveBackward:c}=e,[u,f]=(0,n.useState)(!1),j=[{label:"Bring to Front",icon:v.A,action:s},{label:"Send to Back",icon:h.A,action:a},{label:"Move Forward",icon:m.A,action:d},{label:"Move Backward",icon:x.A,action:c}];return(0,r.jsxs)("div",{className:"absolute bottom-5 left-[50%] -translate-x-[50%] flex items-center",children:[(0,r.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-white rounded-md shadow-md",children:(0,r.jsx)(b,{label:"More",icon:g.A,onClick:()=>f(e=>!e)})}),u&&(0,r.jsx)("div",{className:"flex gap-4 p-2 bg-white rounded-md shadow-md absolute bottom-full mb-2",children:j.map((e,t)=>(0,r.jsx)(b,{label:e.label,icon:e.icon,onClick:e.action,isDisabled:!i},t))})]}),(0,r.jsx)("div",{style:{width:"4px"}}),(0,r.jsx)("div",{className:"flex gap-x-2 p-2 bg-white rounded-md shadow-md",children:(0,r.jsx)(b,{label:"Pen",icon:p.A,onClick:()=>t("#FF5733"),isActive:"#FF5733"===o,isDisabled:!i})}),(0,r.jsx)("div",{style:{width:"4px"}}),(0,r.jsx)("div",{className:"p-2 bg-white rounded-md shadow-md",children:(0,r.jsx)(b,{label:"Delete",icon:w.A,onClick:l,isDisabled:!i})})]})},k=e=>{let{width:t,height:o,backgroundColor:i="#ffffff",color:l,tool:s}=e,a=(0,n.useRef)(null),[d,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=a.current;if(e){let r=e.getContext("2d");r&&(r.fillStyle=i,r.fillRect(0,0,t,o))}},[t,o,i]);let u=()=>{if(!d)return;let e=a.current,t=null==e?void 0:e.getContext("2d");t&&t.closePath(),c(!1)};return(0,r.jsx)("canvas",{ref:a,width:t,height:o,style:{border:"1px solid #ddd"},id:"drawing-canvas",onMouseDown:e=>{let t=a.current;if(!t)return;let o=t.getContext("2d");o&&"brush"===s&&(o.strokeStyle=l,o.lineWidth=2,o.lineCap="round",o.beginPath(),o.moveTo(e.nativeEvent.offsetX,e.nativeEvent.offsetY),c(!0))},onMouseMove:e=>{if(!d||"brush"!==s)return;let t=a.current,o=null==t?void 0:t.getContext("2d");o&&(o.lineTo(e.nativeEvent.offsetX,e.nativeEvent.offsetY),o.stroke())},onMouseUp:u,onMouseLeave:u})};function y(){let[e,t]=(0,n.useState)("#000000");return(0,r.jsxs)("div",{children:[(0,r.jsx)(j,{onColorChange:e=>{t(e),console.log("Выбранный цвет:",e)},currentColor:e,editable:!0,deleteSelected:()=>{console.log("Delete selected")},moveToFront:()=>{console.log("Move to front")},moveToBack:()=>{console.log("Move to back")},moveForward:()=>{console.log("Move forward")},moveBackward:()=>{console.log("Move backward")}}),(0,r.jsx)(k,{width:800,height:600,backgroundColor:"#f0f0f0",color:e,tool:"brush"})]})}},1909:(e,t,o)=>{"use strict";o.d(t,{$:()=>d});var r=o(5155),n=o(2115),i=o(2317),l=o(652),s=o(9602);let a=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",board:"hover:bg-blue-500/20 hover:text-blue-800",boardActive:"bg-blue-500/20 text-blue-800"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",smallerIcon:"h-8 w-8"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:o,variant:n,size:l,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,r.jsx)(u,{className:(0,s.cn)(a({variant:n,size:l,className:o})),ref:t,...c})});d.displayName="Button"},9602:(e,t,o)=>{"use strict";o.d(t,{cn:()=>i});var r=o(3463),n=o(9795);function i(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,n.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[585,966,441,517,358],()=>t(1753)),_N_E=e.O()}]);