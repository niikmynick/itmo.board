(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{1226:()=>{},4274:(e,t,a)=>{Promise.resolve().then(a.bind(a,8862))},8862:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var s=a(5155),r=a(6644),o=a(1909),l=a(3085);let n=()=>(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mt-6",children:"Welcome to itmo.board"}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm mt-2",children:"Create an organization to get started!"}),(0,s.jsx)("div",{className:"mt-6 ",children:(0,s.jsxs)(l.lG,{children:[(0,s.jsx)(l.zM,{asChild:!0,children:(0,s.jsx)(o.$,{size:"lg",children:"Create an Organization!"})}),(0,s.jsx)(l.Cf,{className:"p-0 bg-transparent border-none max-w-[480px]",children:(0,s.jsx)(r.ul,{})})]})})]});var d=a(2115);let i=()=>(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mt-6",children:"No results found!"}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm mt-2",children:"Try searching for something else!"})]});var c=a(9602),u=a(3473);let f=e=>{let{disabled:t}=e,a=async()=>{};return(0,s.jsxs)("button",{disabled:t,onClick:a,className:(0,c.cn)("col-span-1 aspect-[100/127] bg-blue-500 rounded-lg hover:bg-blue-600 flex flex-col items-center justify-center py-6",t&&"opacity-75 hover:bg-blue-500 cursor-not-allowed"),children:[(0,s.jsx)(u.A,{className:"h-12 w-12 text-white stroke-2"}),(0,s.jsx)("p",{className:"text-sm text-white font-medium",children:"New board"})]})};var m=a(6046),g=a(5715),x=a(1649);function h(e){let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,c.cn)("animate-pulse rounded-md bg-muted",t),...a})}let p=()=>(0,s.jsx)("div",{id:"overlay",className:"opacity-0 group-hover:opacity-50 transition-opacity h-full w-full bg-black"}),b=e=>{let{title:t,authorLabel:a,createdAtLabel:r,disabled:o}=e;return(0,s.jsxs)("div",{className:"relative bg-white p-3",children:[(0,s.jsx)("p",{className:"text-[13px] truncate max-w-[calc(100%-20px)]",children:t}),(0,s.jsxs)("p",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-[11px] text-muted-foreground truncate",children:[a,", ",r]}),(0,s.jsx)("button",{disabled:o,className:(0,c.cn)("opacity-0 group-hover:opacity-100 transition-opacity absolute top-3 right-3 text-muted-foreground hover:text-blue-600 z-50",o&&"cursor-not-allowed opacity-75")})]})},v=e=>{let{id:t,title:a,authorId:r,createdAt:o}=e,l=(0,m.useRouter)(),n=(0,m.useParams)(),[i,c]=(0,d.useState)(n.UserID===r?"You":"Another"),[u,f]=(0,d.useState)(!1);(0,d.useEffect)(()=>{(async e=>{var t;let a=await (null===(t=g.$v.users)||void 0===t?void 0:t.getUser(e));c(e===r?"You":(null==a?void 0:a.firstName)||"Teammate")})(n.UserID)});let h=(0,x.m)(new Date(o),{addSuffix:!0});return(0,s.jsxs)("div",{className:"group aspect-[100/127] border rounded-lg flex cursor-pointer flex-col justify-between overflow-hidden relative",onClick:()=>{try{f(!0),l.push("boards/".concat(t))}catch(e){console.log(e)}finally{f(!1)}},children:[(0,s.jsx)("div",{className:"relative flex-1 bg-white",children:(0,s.jsx)(p,{})}),(0,s.jsx)(b,{title:a,authorLabel:i,createdAtLabel:h,disabled:u})]})};v.Skeleton=function(){return(0,s.jsx)("div",{className:"aspect-[100/127] rounded-lg overflow-hidden",children:(0,s.jsx)(h,{className:"h-full w-full"})})};let j=[{_id:"1",title:"Test Board 1",authorId:"user1",createdAt:"2023-11-01T10:00:00Z",orgId:"org1",imageUrl:"/images/board1.png"},{_id:"2",title:"Test Board 2",authorId:"user2",createdAt:"2023-11-02T11:00:00Z",orgId:"org1",imageUrl:"/images/board2.png"}],y=async(e,t)=>(console.log("Mocking getAllBoards for user ".concat(e," and org ").concat(t)),j),N=e=>{let{orgId:t}=e,[a,r]=(0,d.useState)([]),[o,l]=(0,d.useState)([]),[n,c]=(0,d.useState)(!0),u=(0,m.useParams)(),g=(0,m.useSearchParams)(),x=(0,d.useCallback)(async(e,t)=>{try{c(!0);let a=await y(e,t);r(a)}catch(e){console.error("Error fetching boards:",e)}finally{c(!1)}},[]);(0,d.useEffect)(()=>{u.UserID&&x(u.UserID,t)},[t,u.UserID,x]);let h=(0,d.useCallback)(()=>{var e;let t=(null===(e=g.get("search"))||void 0===e?void 0:e.toLowerCase())||"";l(a.filter(e=>e.title.toLowerCase().includes(t)))},[a,g]);return((0,d.useEffect)(()=>{h()},[a,g,h]),n)?(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-5 mt-8 pb-10",children:[(0,s.jsx)(v.Skeleton,{}),(0,s.jsx)(v.Skeleton,{}),(0,s.jsx)(v.Skeleton,{}),(0,s.jsx)(v.Skeleton,{})]}):!o.length&&g.get("search")?(0,s.jsx)(i,{}):(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-5 mt-8 pb-10",children:[(0,s.jsx)(f,{orgId:t}),o.map(e=>(0,s.jsx)(v,{id:e._id,title:e.title,authorId:e.authorId,createdAt:new Date(e.createdAt||""),orgId:e.orgId},e._id))]})};var w=a(7711);let k=e=>{let{searchParams:t}=e,{organization:a}=(0,r.Z5)(),[o,l]=(0,d.useState)(null);return(0,d.useEffect)(()=>{(async()=>{l(await t)})()},[t]),(0,s.jsx)("div",{className:"flex-1 h-[calc(100%-80px)] p-6",children:a?(0,s.jsx)(N,{orgId:a.id,query:o||{}}):(0,s.jsx)(n,{})})},C=(0,w.default)(()=>Promise.resolve(k),{ssr:!1})},1909:(e,t,a)=>{"use strict";a.d(t,{$:()=>i});var s=a(5155),r=a(2115),o=a(2317),l=a(652),n=a(9602);let d=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",board:"hover:bg-blue-500/20 hover:text-blue-800",boardActive:"bg-blue-500/20 text-blue-800"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",smallerIcon:"h-8 w-8"}},defaultVariants:{variant:"default",size:"default"}}),i=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:i=!1,...c}=e,u=i?o.DX:"button";return(0,s.jsx)(u,{className:(0,n.cn)(d({variant:r,size:l,className:a})),ref:t,...c})});i.displayName="Button"},3085:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>f,lG:()=>d,zM:()=>i});var s=a(5155),r=a(2115),o=a(4223),l=a(767),n=a(9602);let d=o.bL,i=o.l9,c=o.ZL;o.bm;let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});u.displayName=o.hJ.displayName;let f=r.forwardRef((e,t)=>{let{className:a,children:r,...d}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(o.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[r,(0,s.jsxs)(o.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(l.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=o.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})}).displayName=o.hE.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(o.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})}).displayName=o.VY.displayName},9602:(e,t,a)=>{"use strict";a.d(t,{cn:()=>o});var s=a(3463),r=a(9795);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[239,585,528,113,441,517,358],()=>t(4274)),_N_E=e.O()}]);